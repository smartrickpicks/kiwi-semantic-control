Replit Task: Fix Multi‑RFI Submit, Reviewer Queue Routing, and Role‑Consistent Visibility (Local Handoff)

Goal
Make reviewer workflow deterministic and role‑consistent:

Submitting one RFI should not clear other RFIs
Reviewer triage items should open SRR directly
Switching roles should always show that role’s queue and SRR context without needing prior analyst SRR state
Verifier review should open reliably from either artifact_id or patch_request_id
1) RFI submit should only clear the selected field
Bug: Submitting an RFI clears all RFIs in the record.
Fix:

RFI submit should only clear the currently selected field (the one being sent)
Preserve other pending RFI fields untouched
Ensure payload only includes the selected field’s RFI data
Acceptance: If 3 RFIs are marked and you submit 1, the other 2 remain.

2) Reviewer triage should open SRR directly
Goal: Clicking a reviewer triage item should open the Record Inspection SRR immediately.

Fix:

Triage click -> openReviewerSRR({ dataset_id, record_id, patch_request_id })
No intermediate “Verifier Review” board needed for the local demo
If you keep Verifier Review, add a button but default action is SRR open
Acceptance: Clicking a triage row opens SRR every time.

3) Role switch must show role data consistently
Bug: Reviewer only sees items if analyst SRR was open first.
Fix:

On setMode(role) reload queues for that role from canonical store
Do NOT rely on current SRR state or analyst session
Reviewer grid + triage should always populate from PATCH_REQUEST_STORE and ArtifactStore immediately
Acceptance: Switch to Reviewer and triage/grid populate without analyst SRR open.

4) Verifier Review should accept patch_request_id or artifact_id
Bug: Clicking items sometimes passes PR_... and VR_LOAD only handles artifact IDs.

Fix:

If payloadId starts with PR_, load from PATCH_REQUEST_STORE
If it starts with art_, load from ArtifactStore
Normalize into a single internal currentPatchRequest object
Acceptance: Both art_... and PR_... open correctly.

5) Keep flow aligned with cold_route_flow.svg
Ensure reviewer SRR represents Replay + Verify in the diagram:

Load package (read‑only)
SRR shows analyst changes + evidence
Reviewer acts on those changes
Suggested commit
fix(review): rfi submit scoping + triage->srr routing + role-consistent queues

