Replit Task: V2.2 P2 — Final Polish + Release Hardening

Alignment of Task must be included in output.

Constraints:
- Use repo-relative paths only.
- No new persistence layer work.
- Preserve P0/P1 behavior.
- Keep deterministic/local-first approach.

Scope:

1) System Changes UX polish
- Improve proposal review ergonomics:
  - bulk reject with reason
  - confidence sort/filter presets
  - clear hinge-required badge and “must route via patch” explanation
- Keep hinge-governed enforcement unchanged.

2) Pre-Flight clarity + thresholds
- Finalize Pre-Flight messaging and badges:
  - unknown columns
  - OCR unreadable
  - low-confidence extraction
  - mojibake
- Ensure unknown-column threshold behavior is explicit in UI copy and docs.
- Add one-click “Create patch from blocker” where applicable (governed path only).

3) Audit panel polish
- Finalize filter UX:
  - saved filter presets (local)
  - quick chips for system_change / rollback / schema_change / session
- Ensure header last-10 and full panel stay in sync after live events.

4) Export consistency pass
- Audit-only export:
  - stable column ordering
  - payload_summary truncation + artifact refs preserved
- Full export:
  - verify `batch_id`, `contract_id`, `document_id`, `document_type`, `document_role`, `capabilities`, `merged_from` remain present and stable.

5) Docs hardening pass
- Update and reconcile:
  - `docs/AUDIT_LOG.md`
  - `docs/ui/ui_principles.md`
  - `docs/ui/views/ui_evidence_pack.md`
  - `docs/ui/views/patch_authoring_view.md`
  - `docs/ui/views/single_row_review_view.md`
  - `docs/UNDO_VS_ROLLBACK.md`
- Remove stale/conflicting terms and ensure V2.2 terminology is consistent:
  - Pre-Flight
  - System Pass
  - Verifier (not Reviewer)
  - proposal-only system changes
  - governed rollback

6) Release checklist artifacts
- Produce a concise release validation section in output:
  - smoke matrix by role (Analyst/Verifier/Admin)
  - key regression checks
  - known limitations (if any)
- No new features beyond polish/hardening.

Acceptance criteria:
- System Changes UX supports practical triage at demo scale.
- Pre-Flight blockers are clear and actionable.
- Audit UX is coherent and export-ready.
- Full export + audit-only export are schema-stable.
- Docs contain no conflicting V2.2 lifecycle language.
- No regressions in P0/P1 flows.

Output format:
1) Alignment of Task: <one line>
2) Files/functions touched with approximate line ranges
3) PASS/FAIL checklist with evidence
4) Any FAIL item + minimal fix plan
5) Final release smoke matrix (role x flow)
6) Known limitations (if any)
